a=r"""                         /--------------------------------------------------------------------------------\                                           
                 /-------+-----------------------------------\  /-------------------\                     |              /--------------------------\ 
                 |       |                                   |  |                   |                   /-+--------------+--------------\           | 
                 |       |                                   |  |                   |                   | |              |              |           | 
      /----------+-------+-----------------------------------+--+>------------------+\                /-+-+--------------+-------\      |           | 
   /--+----------+-------+-----------------------------------+\ |                   ||                | | |              |       |      |           | 
   |  |          |       |        /--------------------------++-+---------------\   ||                | | |              |       |      ^           | 
   |  |          |       |        |                          || |           /---+---++----------------+-+-+--------\     |       |      |           | 
   |  |        /-+-------+--------+--------------------------++-+\          |   |   ||                | | |        |     |       |      |           | 
   |  |        | |       |        |                          || ||          |   |   ||                | | |        |     |       |      |           | 
   |  |        | |       |        |                          || ||          |   |   ||                | | |        |     |   /---+------+---\       | 
   |  |        | |       |        |                     /----++-++----------+---+---++-------\        | | |        |     |   |   |      |   |       | 
  /+--+--------+-+-------+--------+---------------------+----++-++-----\    | /-+---++-------+--------+-+-+-------\|     |   |   |      |   |       | 
  ||  |        | |       |        |    /----------------+----++-++-----+----+-+-+---++-------+--------+-+-+---\   ||     |   |   |      |   |       | 
  ||  |/-------+-+-------+--------+\   |                | /--++-++-----+----+-+-+---++-------+-------\| | |   |   ||     |   |   |/-----+---+---\   | 
  ||  || /-----+-+-------+--------++---+----------------+-+--++-++-----+----+-+-+---++-------+\      || | |   |   ||     |   |   ||     |   |   |   | 
  ||  || |     | |       |        ||   |        /-------+-+\ || ||     |    | | |   ||       ||      || | |   |   ||     |   |   ||     |   |   |   | 
  ||  || |     | |    /--+--------++---+--------+-\     | || || ||     |    | | |   ||       ||      || | |   |   ||     |   |   ||     |   |   |   | 
  ||  || | /---+-+----+--+--------++---+--------+-+-----+-++-++-++-----+----+-+-+---++-------++------++-+-+---+--\||     |   |   ||     |   |   |   | 
  ||  || | |   | |    |  |       /++---+--------+-+-----+-++-++-++-----+----+-+-+---++--\    ||      || | |   | /+++-----+---+---++\    |   |   |   | 
  ||  || | |   | |    |  |       |||   |  /-----+-+-----+-++-++-++-----+----+-+-+---++--+----++------++-+-+---+-++++-----+---+-\ |||    |   |   |   | 
  ||  || | |   | |/---+--+-----\ |||   |  |     | |     | || || ||     |    | | |   ||  |    ||      || | |   |/++++-----+---+-+-+++--\ |   |   |   | 
  ||  || | |   | ||   |  |     | |||   |  |     | |     | || || ||     |    \-+-+---++>-+----++------++-+-+---+++++/     |   | | |||  | |   |   |   | 
  ||  || | |   | ||   |  |     | |||   |  |     | |/----+-++-++-++-----+------+-+---++--+----++------++-+-+---+++++------+\  | | |||  | |   |   |   | 
  ||  || | |   | ||   |  |     | |||   \--+-----+-++----+-++-++-++-----+------+-+---++--+----++------++-+-+---/||||      ||  | | |||  | |   |   |   | 
  ||  ||/+-+---+-++\  |  |     | ||| /----+-----+-++-\  | || || \+-----+------+-+---/|  |    ||      || | |    ||||      ||  | | |||  | |   |   |   | 
  ||  |||| |   | |||  |  |     | ||| |    |     | || |  | || ||  | /---+------+-+----+--+----++------++-+-+----++++------++--+-+-+++--+-+--\|   |   | 
  ||  |||| |   | |||  |  |     | ||| |    |     | || |  | || ||  | |   |      | |    |  |    ||      || | |    ||||      ||  | | |||  | |  ||   |   | 
  ||  |||| |   | |||  |  |     | ||| |    |     | || |  | || ||  | |   |      | |    |  |    ||      || | |    ||||      ||  | | |\+--+-+--++---/   | 
  ||  |||| |   | |||  |  |     | ||| |    |     | || |/-+-++-++--+-+---+------+-+----+--+----++------++\| |    ||||      \+--+-+-+-+--+-+--++-------/ 
 /++--++++-+---+-+++--+--+-----+-+++-+----+-----+-++-++-+-++-++--+-+---+----\ | |    |  |    ||      |||| |    |\++-------+--+-+-+-/  | |  ||         
 |||/-++++-+--\| |||  |  |     | ||| |    |     | || || | || ||  | |   |    | |/+----+--+----++----\ |||| |    | ||       |  | | |    | |  ||         
 |||| |||| |  || |||  |  |     | ||| |    |     | || || | || ||  | |   |    | |||    |  |    ||    | |||| |    | ||       |  | | | /--+-+--++---\     
 |||| |||| |  || |||  |  |     | ||| |/---+-----+-++-++-+-++-++-\| |   |    | |||    |  |    ||    | |||| |    | ||       |  | | | |  | |  ||   |     
 |||| |||| |  || |||  |  |     | ||| ||   |     | || || | || || || |   |    | |||    |  |    ||    | |||| |    | ||       |  \-+-+-+--+-+--+/   |     
 |||| |||| |  || |||  |  |     | ||| ||   |     | || || | || || || |   |    | |||    |  |    ||    | |||| |    | ||       |    | | |  | |  |    |     
 |||| |||| |  || |||  |  |     | ||| ||   |     | || ||/+-++-++-++-+---+----+-+++----+--+----++----+-++++-+----+-++-------+----+-+-+--+-+\ |    |     
 |||| |||| |  || |||  |  |     | ||| ||   |     | || |||| || || || |   | /--+-+++----+--+-\  ||    | |||\-+----+-++-------+----+-+-+--+-/| |    |     
 |||| |||| |  || |||  |  |     | ||| ||   |     | || |||| || || || |   | | /+-+++----+--+-+--++----+-+++--+----+-++-------+\   | | |  |  | |    |     
 |||| |||\-+--++-+++--+--+-----+-+++-++---+-----+-++-++++-++-++-++-+---+-+-++-+++----+--+-+--+/    | |||  |  /-+-++-------++---+-+-+--+--+-+-\  |     
 |||| ||\--+--++-++/  |  |     | ||| || /-+-----+-++-++++-++-++-++-+---+-+-++-+++----+--+-+--+-----+-+++--+--+\| ||       ||   | | |  |  | | |  |     
 |||\-++---+--/| ||   |  |     |/+++-++-+-+-----+-++-++++-++-++-++-+---+-+-++-+++----+--+\|  |     | |||  |/-+++-++-------++---+-+-+--+--+-+-+--+--\  
 |||  ||   |   | ||   |  |     ||||| || | |     | || |||| || || || |   | | || |||/---+--+++--+-----+-+++--++-+++-++-------++---+-+-+--+-\| | |  |  |  
 |||  ||   |   |/++---+--+-----+++++-++-+-+-----+-++-++++-++-++-++-+---+-+-++-++++---+--+++--+-----+-+++--++-+++-++\      ||   | | |  | || | |  |  |  
 |||  || /-+---++++---+--+-----+++++-++\| |     | || |||| || || || |   | | || ||||   |  |||  |     | |||  || ||| |||      ||   | | |  | || | |  |  |  
 |||  || | |   ||||   |  |     ||||| |||| |     \-++-++++-+/ || || |   | | || ||||   |  |||  |   /-+-+++--++-+++-+++------++---+-+-+--+-++-+-+--+\ |  
 |||  || | |   |||\---+--+-----/|||| |||| |       ||/++++-+--++-++-+---+-+-++-++++---+--+++--+---+-+-+++--++-+++-+++-\    ||   | | |  | || | |  || |  
 ||| /++-+-+---+++----+--+------++++-++++-+-------+++++++-+--++-++-+---+-+-++-++++---+--+++--+---+-+-+++--++\||| ||| |    ||   | | |  | || | |  || |  
/+++-+++-+-+---+++----+--+------++++-++++-+-------+++++++-+--++-++-+---+-+-++-++++---+--+++--+---+-+-+++\ |||||| ||| |    ||   | | |  | || | |  || |  
|||| ||| | |   |||    |  |      ||||/++++-+-------+++++++-+--++-++-+---+-+-++-++++---+--+++--+---+\| |||| |||||| ||| |    ||   | | |  | || | |  || |  
|||| ||| | |   |||    |  |      ||\++++++-+-------+++++++-+--++-++-+---+-+-++-++/|   |  |||  |   ||| |||| |||||| ||| |    ||   | | |  | || | |  || |  
|||| ||| | |   |||    |  |    /-++-++++++-+-------+++++++-+--++-++-+---+-+-++-++-+---+--+++--+---+++\|||| |||||| ||| |    ||   | | |  | || | |  || |  
|||| ||| | |  /+++----+--+-\  | || |||||| |       ||||||| |  || || | /-+-+-++-++-+---+-\|||  |   |||||||| |||||| ||| |    ||   | | |  | || | |  || |  
|||| ||| | |  ||||    |  | |  | || |||\++-+-------+++++++-+--++-/| | | | \-++-++-+---+-+++/  |   |||||||| |||||| ||| |    ||   | | |  | || | |  || |  
||||/+++-+-+--++++----+--+-+--+-++-+++-++-+-------+++++++-+--++--+-+-+-+\  || || |   | |||   |   |||||||| |||||| ||| |    ||   | | |  | || | |  || |  
|||||||\-+-+--++++----+--+-+--+-++-/|| || |      /+++++++-+--++--+-+-+-++--++-++-+---+-+++---+---++++++++-++++++-+++-+----++---+-+-+\ | || | |  || |  
|||||||  | |  |||\----+--+-+--+-++--++-++-+------++++++++-+--/|  | | | ||  || |\-+---+-+++---+---++/||||| |||||| ||| |    ||   | | || | || | |  || |  
|||||||  | |  |||/----+--+-+--+-++--++-++-+\     |||||||| |   |  | | | ||  || |  |   |/+++---+---++-+++++-++++++-+++-+----++\  | | || | || | |  || |  
|||||||  | |  ||||/---+--+-+\ | ||  || || ||     |||||||| |   |  | | | ||  || |  |   |||||   |   ||/+++++-++++++-+++-+----+++--+-+-++-+-++-+-+-\|| |  
|||||||  | |  |||||   |  | || | ||  || || ||   /-++++++++-+--\|  | | | ||  || |  |   |||||   |   |||||||| ||||||/+++-+----+++--+-+\|| | || | | ||| |  
\++++++--+-+--+++++---+--+-++-+-++--++-++-++---+-++++++++-+--++--+-+-+-++--++-+--+---+++++---+---+++++++/ |||||||||| |    |||  | |||| | || | | ||| |  
 ||\+++--+-+--+++++---+--+-++-+-++--++-++-++---+-++++++++-+--+/  | | \-++--++-+--+---++/||   |   |||||||  |||||||||| |    |||  | |||| | || | | ||| |  
 || |||  |/+--+++++---+--+-++-+-++--++-++-++---+-++++++++-+--+-\ | |   ||  || |  |   || ||   |   |||||||  |||||||||| |    |||  | |||| | || | | ||| |  
/++-+++--+++--+++++---+--+-++-+-++--++-++-++---+-++++++++-+--+-+-+-+---++--++\|  |   || ||   |   |||||||  |||||||||| |    |||  | |||| | ^| | | ||| |  
||| |||  |||  ||\++---+--+-++-+-++--++-++-++---+-++++++++-+--+-+-+-+---++--++++--+---++-++---+---+++++++--+++++++++/ |    |||  | |||| | || | | ||| |  
||| |||  |||  || ||   |  | || | ||  || || ||   | |||||||| |  | | | |   ||  ||||  |   || ||   |   |||||||  |||||||||  |    |||  | |||| | || | | ||| |  
|||/+++--+++--++-++---+--+-++\| ||  || || ||   | |||||||| \--+-+-+-+---++--++++--+---++-++---+---++++/||  |||||||||  |  /-+++--+-++++-+-++\| | ||| |  
|||||||  |||  || ||   \--+-++++-++--++-++-++---+-+/||||||    | | | |   ||  ||||  |   || ||   |   ||\+-++--+++++++++--+--+-+++--+-++++-+-++++-+-/|| |  
|||^|||  |||  || ||      |/++++-++--++-++-++---+-+-++++++----+-+-+-+---++--++++--+---++-++---+---++-+-++--+++++++++--+--+-+++\ | |||| | |||| |  || |  
|||||||  |||  || ||      |||||| ||  || || ||   | | ||||||    | | | |   ||  ||||  |   |\-++---+---++-+-++--+++++++++--+--+-++/| | ||\+-+-++++-+--/| |  
|||||||  |||  ||/++------++++++-++--++-++-++---+-+-++++++-\  | | | |   ||  ||||  |   |  ||   |   || | ||  |||||||||  |  | || | | || | | |||| |   | |  
|||||||  |||/-+++++------++++++\|| /++-++-++---+-+\|||||| |  | | | |   ||  ||||  |   |  ||   |   || | ||  |||||||||  |  | || | | || | | |||| |   | |  
|||||||  |||| |||||      \++++++++-+++-++-++---+-++++++++-+--+-+-+-+---++--++++--+---+--++---+---++-+-++--/||||||||  |  | || | | || | | |||| |   | |  
|||||||  |||| v||||     /-++++++++-+++-++-++---+-++++++++-+--+-+-+-+---++--++++--+\  |  ||   |   || | ||   ||||||||  | /+-++-+-+-++-+\| |||| |   | |  
|||||||  |||| |||||     | ||v||||| ||| ||/++->-+-++++++++-+--+-+-+-+---++--++++--++--+--++---+---++-+-++-\ ||||||||  | || || | | || ||| |||| |   | |  
|||||||  |||| ||||| /---+-++++++++-+++-+++++--\| |||||||| |  | |/+-+---++--++++--++--+--++---+---++-+-++-+-++++++++--+-++-++-+-+-++-+++\|||| |   | |  
|||||||  |||| ||||| |   | |||||||| ||| |||||  || |||||||| |  | ||| |   || /++++--++--+--++---+---++\| || | |||||^||  | || || | | || |||||||| |   | |  
|||||||  |||| ||||| |   | |||||||| ||| |||||  || ||\+++++-+--+-+++-+---++-+++++--++--+--++---+---++++-++-+-++++++++--+-++-/| | | || |||||||| |   | |  
|||||||  |||| ||||| |   | |||||||| ||| |||||  || || \++++-+--+-+++-+---++-+++++--++--+--++---+---++++-++-+-++++++++--/ ||  | | | || |||||||| |   | |  
|||||||  |||| ||||| |   | |||||||| ||| |||||  || \+--++++-+--+-+++-+---++-+++++--++--+--++---+---++++-++-+-++++++++----++--+-+-+-++-/||||||| |   | |  
|||||||  |||| ||||| |   | |||||||| ||| |||||  ||  |  |||| |  | ||| |  /++-+++++--++--+--++---+---++++-++\| ||||||||    ||  | | | ||  ||||||| |   | |  
^||||||  |||| ||||| |   | |||||||| \++-+++++--++--/  |||| |  | ||| |  ||| |||||  ||  |  ||   |   |||| |||| ||||||||    ||  | | | ||  ||||||| |   | |  
|||||||  |||| ||\++-+---+-++++++++--++-+++++--++-----++++-/  | ||| |  ||| |||||  ||  |  ||   |   |||| |||| ||||||||    ||  | | | ||  ||||||| |   | |  
|||||||  |||| || || |   | ||||||||  || ||||| /++-----++++----+-+++-+\ ||| |||||  ||  |  ||   |   |||| |||| ||||||||    ||  | | | ||  ||||||| |   | |  
|||||||  |||| || || |   | ||||||||  || ||||| |||     ||||    | ||| || ||| |||||  ||  |  ||   |   |||| \+++-++++++++----++--+-+-+-/|  ||||||| |   | |  
|||||||  |||| || || |   \-++++++++--++-+++++-+++-----++++----+-+++-++-+++-+++++--+/  |  ||   |   ||||  ||| ||||||||    ||  |/+-+--+--+++++++-+\  | |  
|||||||  |||| || || |     ||||||||  || ||||| |||     ||||    | ||| || ||| |||||  |   |  ||   |   ||||  ||| ||\+++++----++--+++-+--+--+++++++-/|  | |  
|||||||  |||| || || |     ||||||||  |\-+++++-+++-----/|||    | ||| || ||| ||||| /+---+--++---+---++++--+++-++-+++++----++--+++-+\ |  |||||||  |  | |  
|||||||  |||| || || |     ||||||||  |  ||||| |||      |||    | |\+-++-+++-+++++-++---+--++---+---++++--+++-++-+++++----++--+++-++-+--++/||||  |  | |  
|||||||  |||| || || |     ||||||||  \--+++++-+++------+++----+-+-+-++-+++-+++++-++---+-<++---+---+/||  ||| || |||||    ||  ||| || |  || ||||  |  | |  
|||||||  |||| || ||/+-----++++++++-----+++++-+++------+++----+-+-+-++-+++-+++++-++---+--++\  |   | ||  ||| || |||||    ||  ||| || |  || ||||  |  | |  
|\+++++--++++-++-++++-----++++++++-----+++++-+++------+++----+-+-+-++-+++-++/|| ||   |/-+++--+---+-++--+++-++-+++++----++--+++-++-+--++-++++--+\ | |  
\-+++++--++++-++-++++-----++++++++-----+++++-+++------+++----+-+-+-++-+++-++-/\-++---++-+++--+---+-++--+++-++-++++/    ||  ||| || |  || ||||  || | |  
  |||||  |||| || ||||     ||||\+++-----+++++-+++------+++----+-+-+-++-+++-++----++---++-+++--+---+-+/  ||| || ||||     |\--+++-++-+--++-++/|  || | |  
  |||||  |||| || ||||    /++++-+++-----+++++-+++------+++----+-+-+-++-+++-++----++---++-+++-\|   | |   ||| || ||||     |   ||| || |  || || |  || | |  
  |||||  |||| || ||||/---+++++-+++-----+++++-+++-----<+++----+-+-+-++-+++-++----++---++-+++-++---+-+---+++-++-++++---\ |   ||| || |  || || |  || | |  
  |||||  |||| || |||||   ||||| |||     ||||| |||      |||    | | | || ||| ||/---++---++-+++-++---+-+---+++-++-++++---+-+---+++-++-+--++-++-+-\|| | |  
  |||||  |||| || |||||   ||||| |||   /-+++++-+++------+++----+-+-+-++-+++-+++---++---++-+++-++---+-+---+++-++-++++---+-+---+++-++\|  || || | ||| | |  
  ||||\--++++-++-+++++---+++++-+++---+-+++++-+++------+++----+-+-+-++-+++-+++---++---/| ||| || /-+-+---+++\|| ||||   | |   ||| ||||  || || | ||| | |  
  ||||   |||| |\-+++++---+++++-+++---+-+++++-+++------+++----+-+-/ || ||| ^||   ||    | ||| || | | |   |||||| ||||   | |   ||| ||||  || || | ||| | |  
  ||||   |||| |  |||||/--+++++-+++---+-+++++-+++------+++----+-+---++-+++-+++---++----+-+++-++-+\| |   |||||| ||||   | |   ||| ||||  || || | ||| | |  
  ||||   |||| |  ||||||  ||||| |||   | ||||| |||      |||    | |   || |||/+++---++---\| ||| || ||\-+---++++++-++++---+-+---+++-++++--++-++-+-+++-/ |  
  ||||   |||| |  ||||||  ||||| |||   | ||||| |||      |||    | |   || |||||||   ||   || ||| || ||  |   |||||| ||||   | |   ||| ||||  || || | |||   |  
  ||||   |||| |  ||||||  ||||| |||   | ||||| |||      |||    | |   || |||||||   || /-++-+++-++-++--+---++++++-++++\  | \---+++-++++--/| || | |||   |  
  \+++---++++-+--++++++--+++++-+++---+-+++++-+++------+++----+-+---++-+/|||||   || | || ||| || ||  |   |||||| |||||  |     ||| ||||   | || | |||   |  
   \++---++++-+--++++++--++++/ |||   | ||||| |||      \++----+-+---++-+-+++++---++-+-++-+++-++-++--+---/||||| |||||  |     ||| ||||   | || | |||   |  
    ||   |||| |  ||||||  ||||  ||\---+-+++++-+++-------++----+-+---++-+-+++++---++-+-++-/|| || ||  |    ||||| |\+++--+-----+++-++++---/ || | |||   |  
    ||   |||| |  ||||||  |\++--++----+-+++++-+++-------++----+-+---++-+-+++++---++-+-++--++-++-++--+----+++++-+-+++--+-----++/ ||||     || | |||   |  
    ||   |||| |  |\++++--+-+/  ||    | ||||| |||       ||    | |   || \-+++++---++-+-++--++-++-++--+----/|||| | |||  |     ||  ||||     || | |||   |  
    ||   |||| |  | ||||  | |   ||    |/+++++-+++----\  ||    | |   ||   |||||   || | ||  || || ||  |     |||| | |||  |     ||  ||||     || | |||   |  
    ||   |||| |  | ||||  | |   ||    |||\+++-+++----+--++----+-+---++---+++++---++-+-++--++-++-++--+-----++++-/ |||  |     ||  ||||     || | |||   |  
    ||   |||| |  | ||||  | |   ||    \++-+++-+++----+--++----+-+---++---+++++---++-+-++--++-++-++--+-----++++---+++--+-----++--++/|     || | |||   |  
    ||   |||| |  | ||||  | |   ||     || ||| ||\----+--++----/ |   ||   |||||   || | ||  || || ||  |     ||||   |||  |     ||  || |     || | |||   |  
    ||   |||| |  | ||||  | |   ||     || ||| ||     |  |\------+---++---+++++---++-+-++--++-+/ ||  |     ||||   ||| /+-----++--++-+\    || | |||   |  
    ||   ||\+-+--+-++++--+-+---++-----++-+++-++-----+--+-------+---++---+++++---++-+-++--++-+--++--+-----++++---+/| ||     ||  || ||    || | |||   |  
    ||   || | |  | ||||  | |   ||     || ||| ||  /--+--+-------+---++---+++++---++-+-++--++-+--++--+-<---++++--\\-+-++-----++--++-/|    || | |||   |  
 /--++---++-+-+--+-++++--+-+---++----\|| ||| ||  |  |  |       |   ||   |||||   || | ||  || |  ||  |     ||||  |  | ||     ||  ||  |    || | |||   |  
 |  ||   || | |  | ||||  | |   ||    ||| |\+-++--+--+--+-------+---++---+++++---++-+-++--++-+--++--+-----++++--+--+-++-----++--/|  |    || | |||   |  
 |  ||   || | |  | ||||  | |   ||    ||| | | ||  |  |  |       |   ||   |\+++---++-+-/\--++-+--++--+-----++++--+--+-++-----++---+--+----++-+-++/   |  
 |  ||   \+-+-+--+-++++--+-+---++----++/ | | ||  |  |  |       |   ||   | |||   || |     || |  ||  |     ||||  |  | ||     ||   |  |    || | ||    |  
 |  ||    | | |  | ||||  | |   ||    ||/-+-+-++-\|  |  |       |   ||  /+-+++---++-+-----++-+--++--+-----++++--+--+-++\    |\---+--+----++-+-+/    |  
 |  ||    | | |  | ||||  | |   ||    ||| | | || ||  |  | /-----+---++-\|| |||   || |     || |  ||  ^     ||||  |  | |||    |    |  |    || | |     |  
 |  ||    | \-+--+-++++--+-+---/|    ||| | | || ||  |  | |     |   || ||| |||   |\-+-----++-+--++--+-----++++--+--+-+++----+----+--+----/| | |     |  
 |  ||    |   |  | ||||  | |    |    ||| \-+-++-++--+--+-+-----+---++-+++-+++---+--+-----++-+--++--+-----/|||  |  | |||    |    |  |     | | |     |  
 |  ||    |   |  \-++++--+-+----+----+++---/ || ||  |  | |     |   || ||| |||   |  |     || |  ||  |      ||| /+--+-+++--\ |    |  |     | | |     |  
 |  ||    |   |    ||||  | |    |    |||     \+-++--+--+-+-----+---+/ ||| |||   |  |     || |  ||  |      ||| ||  | |||  | |    |  |     | | |     |  
 |  ||    |   \----++++--+-/    |    |||      | ||  |  | |     |   \--+++-+++---+--+-----++-+--++--+------+++-++--+-+++--+-+----+--+-----+-/ |     |  
 |  ||    |        ||||  |      \----+++------+-++--+--+-+-----+------+++-+++---+--+-----/| |  \+--+------/|| ||  | |||  | |    |  |     |   |     |  
 |  |\----+--------++++--+-----------+++-<----+-++--+--+-+-----+------+++-+++---+--+------+-+---+--+-------+/ ||  | |||  | |    |  |     |   |     |  
 |  |     |        |\++--+-----------+++------/ |\--+--+-+-----+------+++-+++---+--+------+-+---+--+-------+--+/  | |||  | |    |  |     |   |     |  
 |  |     |        | ||  |           |||        |   |  | |     |      ||| |\+---+--+--<---+-+---+--+-------+--+---+-+++--+-/    |  |     |   |     |  
 |  |     |        | ||  |           |||        |   |  | |     |      ||| | \---+--+------+-+---+--+-------+--+---+-+++--+------+--+-----+---/     |  
 |  |     |        | ||  |           ||\--------/   |  | \-----+------/|| |     |  |      | |   |  |       |  |   | |||  |      |  |     |         |  
 |  |     |        | ||  |           ||             |  |       |       || |     |  \------+-+---+--+-------+--+---/ \++--+------+--/     |         |  
 |  |     |        | ||  \-----------++-------------+--+-------+-------++-+-----+---------+-/   |  |       |  |      ||  |      |        |         |  
 |  |     |        | |\--------------++-------------+--+-------+-------++-+-----+---------+-----/  |       |  |      ||  |      |        |         |  
 |  \-----+--------+-+---------------++-------------+--+-------+-------+/ |     |         |        |       |  \------++--/      |        |         |  
 |        |        | |               ||             |  |       |       \--+-----+---------+--------+-------+---------+/         |        |         |  
 |        |        | |               ||             |  |       |          |     |         |        |       |         |          |        |         |  
 |        |        | |               ||             |  |       |          |     |       /-+--------+-------+---------+----------+--------+--\      |  
 \--------+--------+-+---------------/|             |  |       |          |     |       | |        |       |         |          |        |  |      |  
          \--------+-+----------------+-------------+--+-------/          |     |       | |        |       |         |          |        |  |      |  
                   | |                |             |  \------------------+-----+-------+-+--------+-------+---------+----------+--------/  |      |  
                   | \----------------+-------------+---------------------+-----+-------+-+--------+-------+---------/          |           |      |  
                   \------------------+-------------+---------------------+-----+-------+-/        |       |                    |           |      |  
                                      |             |                     |     |       |          |       \--------------------+-----------+------/  
                                      |             |                     |     \-------+----------+----------------------------/           |         
                                      |             |                     \-------------+----------/                                        |         
                                      \-------------/                                   |                                                   |         
                                                                                        \---------------------------------------------------/         """

test=r"""/->-\        
|   |  /----\
| /-+--+-\  |
| | |  | v  |
\-+-/  \-+--/
  \------/   """

test=r"""/>-<\  
|   |  
| /<+-\
| | | v
\>+</ |
  |   ^
  \<->/"""

#a=test
b=[[x for x in y] for y in a.splitlines()]
dirs = "^>v<"
tracks = "|-|-"
dirDeltas = [(0,-1),(1,0),(0,1),(-1,0)]
carts=[]
collisions=[]

class Cart:
    def __init__(self, position, direction, turnIndex):
        self.x = position[0]
        self.y = position[1]
        self.direction = direction
        self.turnIndex = turnIndex
        self.isCollided = False
    
    def move(self, deleteCrashes=False):
        global b, carts
        dx,dy = dirDeltas[self.direction]
        self.x += dx
        self.y += dy
        collidedCarts = [cart for cart in carts if (cart.x,cart.y) == (self.x,self.y)]
        if len(collidedCarts) > 1:
            for cart in collidedCarts:
                cart.isCollided = True
                collisionCoordinates = f"{cart.x},{cart.y}"
                if collisionCoordinates not in collisions:collisions.append(collisionCoordinates)
                if deleteCrashes:
                    carts.remove(cart)
        nextSquare = b[self.y][self.x]
        if nextSquare == "+": 
            self.direction += self.turnIndex - 1
            self.turnIndex += 1
        if nextSquare == "/": self.direction += [1,-1,1,-1][self.direction]
        if nextSquare == "\\": self.direction += [-1,1,-1,1][self.direction]
        self.direction %= 4
        self.turnIndex %= 3

def printCarts():
    global b, carts
    c = [y[::] for y in b]
    for cart in carts:
        c[cart.y][cart.x] = "X" if cart.isCollided else dirs[cart.direction] 
    for x in c: print("".join(x))


[[carts.append(Cart(position=(i,j), direction=dirs.index(x), turnIndex=0)) for i,x in enumerate(y) if x in dirs] for j,y in enumerate(b)]
for cart in carts: b[cart.y][cart.x] = tracks[cart.direction]

uncollidedCarts = carts
while len(uncollidedCarts)>1:
    #printCarts()
    carts.sort(key=lambda x: (x.x,x.y))
    for cart in uncollidedCarts:
        cart.move(deleteCrashes=True)
    uncollidedCarts = [cart for cart in carts if not cart.isCollided]

lastCart = carts[0]
print(f"{lastCart.x},{lastCart.y}")
        